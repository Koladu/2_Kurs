#include <iostream>
#include <ctype.h>
#include <string.h>
using namespace std;

void menu(char massiv1[][100], int *x);
void predl(char massiv[][100], int *y);
void Registr(char massiv1[][100], char massiv[][100], int x, int y);
void Vidimie(char massiv1[][100], char massiv[][100], int x, int y);
void Simvoli(char massiv1[][100], char massiv[][100], int x, int y);

int main()
{
	int x = 0, y = 0;
	setlocale(0, "");

	char massiv[][100] = {
		{"Жора, ты сегодня ел?"},
		{"Вы мне очень нравитесь."},
		{"Как ты это сделал!?"},
		{"Помоги мне!"},
		{"Какие пары у нас завтра?"},
		{"Как же быстро выросла Женя."}
	};

	char massiv1[][100] = {
		{"Отказ от действия"},
		{"Количество видимых символов"},
		{"Количество символов нижнего регистра"},
		{"Количество символов  '!', 'Ж', '?' "},
	};
	menu(massiv1, &x);
	predl(massiv, &y);

	void((*arr[3]))(char massiv1[][100], char massiv[][100], int x, int y);
	arr[0] = Vidimie;
	arr[1] = Registr;
	arr[2] = Simvoli;

	if (x == 1) {
		arr[0](massiv1, massiv, x, y);
	}
	else if (x == 2) {
		arr[1](massiv1, massiv, x, y);
	}
	else if (x == 3) {
		arr[2](massiv1, massiv, x, y);
	}
	system("pause");
}

void menu(char massiv1[][100], int *x) {
	int a;
	std::cout << "Меню действия. Определить:\n\n";

	//1================================== //вывод действий
	for (int i = 1; i < 4; i++) {
		std::cout << i << ".";
		for (int j = 0; j < strlen(massiv1[i]); j++) {
			std::cout << massiv1[i][j];
		}
		std::cout << "\n";
	}
	std::cout << "0.";
	for (int j = 0; j < strlen(massiv1[0]); j++) {
		std::cout << massiv1[0][j];
	}
	std::cout << "\n";

	std::cout << "Выберите вариант -> "; cin >> a; std::cout << "\n";  //выбор варианта

//=================================== //Проверка 'x' на правильность ввода
	if ((a < 0) || (a > 3)) {
		std::cout << "Ошибка ввода, такого варианта нет. Повторите попытку...";
		cin >> a;
	}
	else if (a == 0) {
		exit(0);
	}

	(*x) = a;
}

void predl(char massiv[][100], int *y) {
	int a;
	//2================================== //вывод действий
	for (int i = 0; i < 6; i++) {
		cout << i + 1 << " ";
		for (int j = 0; j < strlen(massiv[i]); j++) {
			std::cout << massiv[i][j];
		}
		std::cout << "\n";
	}
	std::cout << "Выберите вариант -> "; cin >> a; std::cout << "\n";   //выбор варианта

	//=================================== //Проверка 'y' на правильность ввода
	if ((a < 1) || (a > 6)) {
		std::cout << "Ошибка ввода, такого варианта нет. Повторите попытку...";
		cin >> a;
	}
	(*y) = a;
}

void Vidimie(char massiv1[][100], char massiv[][100], int x, int y) {
	//Количество видимых символов
	int k = 0;
	std::cout << "Вариант: " << x << " ";
	for (int j = 0; j < strlen(massiv1[x]); j++) {
		std::cout << massiv1[x][j];
	}
	std::cout << "\nПредложение: " << y << " ";
	for (int i = 0; i < strlen(massiv[y - 1]); i++) {
		std::cout << massiv[y - 1][i];
	}

	for (int i = 0; i < strlen(massiv[y - 1]); i++) {
		if (isgraph((unsigned char)massiv[y - 1][i])) {
			k++;
		}
	} cout << "\nКоличество видимых символов = " << k << endl;
}

void Registr(char massiv1[][100], char massiv[][100], int x, int y) {
	//колличество символов нижнего регистра
	int k = 0;
	std::cout << "Вариант: " << x << " ";
	for (int j = 0; j < strlen(massiv1[x]); j++) {      
		std::cout << massiv1[x][j];
	}

	std::cout << "\nПредложение: " << y << " ";

	for (int i = 0; i < strlen(massiv[y - 1]); i++) {
		std::cout << massiv[y - 1][i];
	}

	for (int i = 0; i < strlen(massiv[y - 1]); i++) {
		if (islower((unsigned char)massiv[y - 1][i])) {
			k++;
		}
	}

	cout << "\nКолличество cимволов нижнего регистра = " << k << endl;
}

void Simvoli(char massiv1[][100], char massiv[][100], int x, int y) {
	//Колличество '!','Ж','?'
	int k = 0;
	std::cout << "Вариант: " << x << " ";
	for (int j = 0; j < strlen(massiv1[x]); j++) {      
		std::cout << massiv1[x][j];
	}
	std::cout << "\nПредложение: " << y << " ";

	for (int i = 0; i < strlen(massiv[y - 1]); i++) {
		std::cout << massiv[y - 1][i];
	}

	for (int i = 0; i < strlen(massiv[y - 1]); i++) {
		if ((massiv[y - 1][i] == '!') || (massiv[y - 1][i] == 'Ж') || (massiv[y - 1][i] == '?'))
		{
			k = k + 1;
		}
	}

	cout << "\nКоличество символов '!','Ж','?' = " << k << endl;
}
